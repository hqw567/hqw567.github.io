import{_ as E}from"./ValaxyMain.vue_vue_type_style_index_0_lang.CIL-wNNu.js";import"./chunks/@vueuse/motion.BGpQrJjG.js";import{e as g,a as y,u}from"./chunks/vue-router.OOYc_mqb.js";import{aa as F,al as t,ag as n,ad as i,af as c,ai as s,O as m,ab as v,a1 as b}from"./framework.BdGZ-rKc.js";import"./app.D3XzE9pG.js";import"./chunks/dayjs.Byk5cVHE.js";import"./chunks/vue-i18n.856TSABw.js";import"./chunks/pinia.xb6ucoOY.js";import"./chunks/nprogress.BrJnU_18.js";import"./YunComment.vue_vue_type_style_index_0_lang.D8XNg0Sh.js";import"./index.C5okkQwF.js";import"./YunPageHeader.vue_vue_type_script_setup_true_lang.Df-oOa0z.js";import"./post.DJQWuogS.js";const D=g("/posts/js-ismobile",async e=>JSON.parse('{"title":"JavaScript 侦测手机浏览器的五种方法","description":"","frontmatter":{"title":"JavaScript 侦测手机浏览器的五种方法","tags":["JavaScript","前端"],"categories":["思米米的小笔记"],"date":"2022-04-23 16:04:48","updated":"2022-04-23 16:04:48"},"headers":[],"relativePath":"pages/posts/js-ismobile.md","lastUpdated":1751687172000}'),{lazy:(e,h)=>e.name===h.name}),x={__name:"js-ismobile",setup(e,{expose:h}){const{data:r}=D(),p=u(),d=y(),k=Object.assign(d.meta.frontmatter||{},r.value?.frontmatter||{});return p.currentRoute.value.data=r.value,b("valaxy:frontmatter",k),globalThis.$frontmatter=k,h({frontmatter:{title:"JavaScript 侦测手机浏览器的五种方法",tags:["JavaScript","前端"],categories:["思米米的小笔记"],date:"2022-04-23 16:04:48",updated:"2022-04-23 16:04:48"}}),(l,a)=>{const o=E;return v(),F(o,{frontmatter:m(k)},{"main-content-md":t(()=>[a[0]||(a[0]=i("p",null,"有时候，前端网页需要知道，用户使用的是手机浏览器还是桌面浏览器。",-1)),a[1]||(a[1]=i("p",null,[s("本文根据 "),i("a",{href:"https://stackoverflow.com/questions/11381673/detecting-a-mobile-browser",target:"_blank",rel:"noreferrer"},"StackOverflow"),s("，整理了 JavaScript 侦测手机浏览器的五种方法。")],-1)),a[2]||(a[2]=i("figure",null,[i("img",{src:"//img.simimi.cn/imgbg2021092717.jpg",alt:"img",loading:"lazy",decoding:"async"})],-1)),c(" more "),a[3]||(a[3]=i("h2",{id:"一、navigator-useragent",tabindex:"-1"},[s("一、navigator.userAgent "),i("a",{class:"header-anchor",href:"#一、navigator-useragent","aria-label":'Permalink to "一、navigator.userAgent"'},"​")],-1)),a[4]||(a[4]=i("p",null,"最简单的方法就是分析浏览器的 user agent 字符串，它包含了设备信息。",-1)),a[5]||(a[5]=i("p",null,[s("JS 通过"),i("code",null,"navigator.userAgent"),s("属性拿到这个字符串，只要里面包含"),i("code",null,"mobi"),s("、"),i("code",null,"android"),s("、"),i("code",null,"iphone"),s("等关键字，就可以认定是移动设备。")],-1)),a[6]||(a[6]=i("blockquote",null,[i("div",{class:"language-javascript vp-adaptive-theme"},[i("button",{title:"Copy Code",class:"copy"}),i("span",{class:"lang"},"javascript"),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[i("code",{"v-pre":""},[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"if"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," ("),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"/"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#DBEDFF"}},"Mobi"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"|"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#DBEDFF"}},"Android"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"|"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#DBEDFF"}},"iPhone"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"/"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"i"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"."),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"test"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"(navigator.userAgent)) {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"	// 当前设备是移动设备")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"}")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"// 另一种写法")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"if"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," (")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"	navigator.userAgent."),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"match"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"("),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"/"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#DBEDFF"}},"Mobi"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"/"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"i"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},") "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"||")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"	navigator.userAgent."),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"match"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"("),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"/"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#DBEDFF"}},"Android"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"/"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"i"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},") "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"||")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"	navigator.userAgent."),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"match"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"("),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"/"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#DBEDFF"}},"iPhone"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"/"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"i"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},") {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"	// 当前设备是移动设备")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"}")])])]),i("button",{class:"collapse"})])],-1)),a[7]||(a[7]=i("p",null,"这种方法的优点是简单方便，缺点是不可靠，因为用户可以修改这个字符串，让手机浏览器伪装成桌面浏览器。",-1)),a[8]||(a[8]=i("p",null,[s("Chromium 系的浏览器，还有一个"),i("code",null,"navigator.userAgentData"),s("属性，也是类似的作用。不同之处是它将 user agent 字符串解析为一个对象，该对象的"),i("code",null,"mobile"),s("属性，返回一个布尔值，表示用户是否使用移动设备。")],-1)),a[9]||(a[9]=i("blockquote",null,[i("div",{class:"language-javascript vp-adaptive-theme"},[i("button",{title:"Copy Code",class:"copy"}),i("span",{class:"lang"},"javascript"),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[i("code",{"v-pre":""},[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"const"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," isMobile"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," ="),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," navigator.userAgentData.mobile")])])]),i("button",{class:"collapse"})])],-1)),a[10]||(a[10]=i("p",null,[s("注意，苹果的 Safari 浏览器和 Firefox 浏览器都不支持这个属性，具体情况可以查看 "),i("a",{href:"https://caniuse.com/mdn-api_navigator_useragentdata",target:"_blank",rel:"noreferrer"},"Caniuse 网站"),s("。")],-1)),a[11]||(a[11]=i("p",null,[s("此外，还有一个已经废除的"),i("a",{href:"https://stackoverflow.com/questions/19877924/what-is-the-list-of-possible-values-for-navigator-platform-as-of-today",target:"_blank",rel:"noreferrer"},[i("code",null,"navigator.platform"),s("属性")]),s("，所有浏览器都支持，所以也可以用。它返回一个字符串，表示用户的操作系统。")],-1)),a[12]||(a[12]=i("blockquote",null,[i("div",{class:"language-javascript vp-adaptive-theme"},[i("button",{title:"Copy Code",class:"copy"}),i("span",{class:"lang"},"javascript"),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[i("code",{"v-pre":""},[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"if"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," ("),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"/"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#DBEDFF"}},"Android"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"|"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#DBEDFF"}},"iPhone"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"|"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#DBEDFF"}},"iPad"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"|"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#DBEDFF"}},"iPod"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"/"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"i"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"."),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"test"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"(navigator.platform)) {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"	// 当前设备是移动设备")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"}")])])]),i("button",{class:"collapse"})])],-1)),a[13]||(a[13]=i("h2",{id:"二、window-screen-window-innerwidth",tabindex:"-1"},[s("二、window.screen，window.innerWidth "),i("a",{class:"header-anchor",href:"#二、window-screen-window-innerwidth","aria-label":'Permalink to "二、window.screen，window.innerWidth"'},"​")],-1)),a[14]||(a[14]=i("p",null,"另一种方法是通过屏幕宽度，判断是否为手机。",-1)),a[15]||(a[15]=i("p",null,[i("code",null,"window.screen"),s("对象返回用户设备的屏幕信息，该对象的"),i("code",null,"width"),s("属性是屏幕宽度（单位为像素）。")],-1)),a[16]||(a[16]=i("blockquote",null,[i("div",{class:"language-javascript vp-adaptive-theme"},[i("button",{title:"Copy Code",class:"copy"}),i("span",{class:"lang"},"javascript"),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[i("code",{"v-pre":""},[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"if"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," (window.screen.width "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"<"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," 500"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},") {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"	// 当前设备是移动设备")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"}")])])]),i("button",{class:"collapse"})])],-1)),a[17]||(a[17]=i("p",null,[s("上面示例中，如果屏幕宽度"),i("code",null,"window.screen.width"),s("小于 500 像素，就认为是手机。")],-1)),a[18]||(a[18]=i("p",null,"这个方法的缺点在于，如果手机横屏使用，就识别不了。",-1)),a[19]||(a[19]=i("p",null,[s("另一个属性"),i("code",null,"window.innerWidth"),s("返回浏览器窗口里面的网页可见部分的宽度，比较适合指定网页在不同宽度下的样式。")],-1)),a[20]||(a[20]=i("blockquote",null,[i("div",{class:"language-javascript vp-adaptive-theme"},[i("button",{title:"Copy Code",class:"copy"}),i("span",{class:"lang"},"javascript"),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[i("code",{"v-pre":""},[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"const"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," getBrowserWidth"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," ="),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," function"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," () {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"	if"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," (window.innerWidth "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"<"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," 768"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},") {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"		return"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," 'xs'")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"	} "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"else"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," if"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," (window.innerWidth "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"<"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," 991"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},") {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"		return"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," 'sm'")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"	} "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"else"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," if"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," (window.innerWidth "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"<"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," 1199"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},") {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"		return"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," 'md'")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"	} "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"else"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"		return"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," 'lg'")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"	}")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"}")])])]),i("button",{class:"collapse"})])],-1)),a[21]||(a[21]=i("h2",{id:"三、window-orientation",tabindex:"-1"},[s("三、window.orientation "),i("a",{class:"header-anchor",href:"#三、window-orientation","aria-label":'Permalink to "三、window.orientation"'},"​")],-1)),a[22]||(a[22]=i("p",null,"第三种方法是侦测屏幕方向，手机屏幕可以随时改变方向（横屏或竖屏），桌面设备做不到。",-1)),a[23]||(a[23]=i("p",null,[i("code",null,"window.orientation"),s("属性用于获取屏幕的当前方向，只有移动设备才有这个属性，桌面设备会返回"),i("code",null,"undefined"),s("。")],-1)),a[24]||(a[24]=i("blockquote",null,[i("div",{class:"language-javascript vp-adaptive-theme"},[i("button",{title:"Copy Code",class:"copy"}),i("span",{class:"lang"},"javascript"),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[i("code",{"v-pre":""},[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"if"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," ("),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"typeof"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," window.orientation "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"!=="),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," 'undefined'"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},") {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"	// 当前设备是移动设备")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"}")])])]),i("button",{class:"collapse"})])],-1)),a[25]||(a[25]=i("p",null,"注意，iPhone 的 Safari 浏览器不支持该属性。",-1)),a[26]||(a[26]=i("h2",{id:"四、touch-事件",tabindex:"-1"},[s("四、touch 事件 "),i("a",{class:"header-anchor",href:"#四、touch-事件","aria-label":'Permalink to "四、touch 事件"'},"​")],-1)),a[27]||(a[27]=i("p",null,[s("第四种方法是，手机浏览器的 DOM 元素可以通过"),i("code",null,"ontouchstart"),s("属性，为"),i("code",null,"touch"),s("事件指定监听函数。桌面设备没有这个属性。")],-1)),a[28]||(a[28]=i("blockquote",null,[i("div",{class:"language-javascript vp-adaptive-theme"},[i("button",{title:"Copy Code",class:"copy"}),i("span",{class:"lang"},"javascript"),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[i("code",{"v-pre":""},[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"function"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," isMobile"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"() {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"	return"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," 'ontouchstart'"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," in"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," document.documentElement")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"}")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"// 另一种写法")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"function"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," isMobile"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"() {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"	try"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"		document."),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"createEvent"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"("),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"'TouchEvent'"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"		return"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," true")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"	} "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"catch"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," (e) {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"		return"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," false")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"	}")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"}")])])]),i("button",{class:"collapse"})])],-1)),a[29]||(a[29]=i("h2",{id:"五、window-matchmedia",tabindex:"-1"},[s("五、window.matchMedia() "),i("a",{class:"header-anchor",href:"#五、window-matchmedia","aria-label":'Permalink to "五、window.matchMedia()"'},"​")],-1)),a[30]||(a[30]=i("p",null,"最后一种方法是结合 CSS 来判断。",-1)),a[31]||(a[31]=i("p",null,"CSS 通过 media query（媒介查询）为网页指定响应式样式。如果某个针对手机的 media query 语句生效了，就可以认为当前设备是移动设备。",-1)),a[32]||(a[32]=i("p",null,[i("code",null,"window.matchMedia()"),s("方法接受一个 CSS 的 media query 语句作为参数，判断这个语句是否生效。")],-1)),a[33]||(a[33]=i("blockquote",null,[i("div",{class:"language-javascript vp-adaptive-theme"},[i("button",{title:"Copy Code",class:"copy"}),i("span",{class:"lang"},"javascript"),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[i("code",{"v-pre":""},[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"let"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," isMobile "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," window."),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"matchMedia"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"("),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"'only screen and (max-width: 760px)'"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},").matches")])])]),i("button",{class:"collapse"})])],-1)),a[34]||(a[34]=i("p",null,[s("上面示例中，"),i("code",null,"window.matchMedia()"),s("的参数是一个 CSS 查询语句，表示只对屏幕宽度不超过 700 像素的设备生效。它返回一个对象，该对象的"),i("code",null,"matches"),s("属性是一个布尔值。如果是"),i("code",null,"true"),s("，就表示查询生效，当前设备是手机。")],-1)),a[35]||(a[35]=i("p",null,"除了通过屏幕宽度判断，还可以通过指针的精确性判断。",-1)),a[36]||(a[36]=i("blockquote",null,[i("div",{class:"language-javascript vp-adaptive-theme"},[i("button",{title:"Copy Code",class:"copy"}),i("span",{class:"lang"},"javascript"),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[i("code",{"v-pre":""},[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"let"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," isMobile "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," window."),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"matchMedia"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"("),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"'(pointer:coarse)'"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},").matches")])])]),i("button",{class:"collapse"})])],-1)),a[37]||(a[37]=i("p",null,[s("上面示例中，CSS 语句"),i("code",null,"pointer:coarse"),s("表示当前设备的指针是不精确的。由于手机不支持鼠标，只支持触摸，所以符合这个条件。")],-1)),a[38]||(a[38]=i("p",null,[s("有些设备支持多种指针，比如同时支持鼠标和触摸。"),i("code",null,"pointer:coarse"),s("只用来判断主指针，此外还有一个"),i("code",null,"any-pointer"),s("命令判断所有指针。")],-1)),a[39]||(a[39]=i("blockquote",null,[i("div",{class:"language-javascript vp-adaptive-theme"},[i("button",{title:"Copy Code",class:"copy"}),i("span",{class:"lang"},"javascript"),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[i("code",{"v-pre":""},[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"let"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," isMobile "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," window."),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"matchMedia"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"("),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"'(any-pointer:coarse)'"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},").matches")])])]),i("button",{class:"collapse"})])],-1)),a[40]||(a[40]=i("p",null,[s("上面示例中，"),i("code",null,"any-pointer:coarse"),s("表示所有指针里面，只要有一个指针是不精确的，就符合查询条件。")],-1)),a[41]||(a[41]=i("h2",{id:"六、工具包",tabindex:"-1"},[s("六、工具包 "),i("a",{class:"header-anchor",href:"#六、工具包","aria-label":'Permalink to "六、工具包"'},"​")],-1)),a[42]||(a[42]=i("p",null,[s("除了上面这些方法，也可以使用别人写好的工具包。这里推荐 "),i("a",{href:"https://www.npmjs.com/package/react-device-detect",target:"_blank",rel:"noreferrer"},"react-device-detect"),s("，它支持多种粒度的设备侦测。")],-1)),a[43]||(a[43]=i("blockquote",null,[i("div",{class:"language-javascript vp-adaptive-theme"},[i("button",{title:"Copy Code",class:"copy"}),i("span",{class:"lang"},"javascript"),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[i("code",{"v-pre":""},[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"import"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," { isMobile } "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"from"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," 'react-device-detect'")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"if"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," (isMobile) {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"	// 当前设备是移动设备")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"}")])])]),i("button",{class:"collapse"})])],-1))]),"main-header":t(()=>[n(l.$slots,"main-header")]),"main-header-after":t(()=>[n(l.$slots,"main-header-after")]),"main-nav":t(()=>[n(l.$slots,"main-nav")]),"main-content-before":t(()=>[n(l.$slots,"main-content-before")]),"main-content":t(()=>[n(l.$slots,"main-content")]),"main-content-after":t(()=>[n(l.$slots,"main-content-after")]),"main-nav-before":t(()=>[n(l.$slots,"main-nav-before")]),"main-nav-after":t(()=>[n(l.$slots,"main-nav-after")]),comment:t(()=>[n(l.$slots,"comment")]),footer:t(()=>[n(l.$slots,"footer")]),aside:t(()=>[n(l.$slots,"aside")]),"aside-custom":t(()=>[n(l.$slots,"aside-custom")]),default:t(()=>[n(l.$slots,"default")]),_:3},8,["frontmatter"])}}};export{x as default,D as usePageData};
